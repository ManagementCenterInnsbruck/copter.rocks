/* *****************************************************************************
**                      Author(s) Identity                                    **
********************************************************************************
**                                                                            **
** Initials     Name                                                          **
** ---------------------------------------------------------------------------**
** MAAN                                                        **
**                                                                            **
**                                                                            **
***************************************************************************** */

/* *****************************************************************************
**                      Revision Control History                              **
***************************************************************************** */
/* 
 * V0.0: 06.05.2015,MAAN:  Initial Version
 */
 
 #ifndef QUATERNIONFILTERS_H_
#define QUATERNIONFILTERS_H_
/* *****************************************************************************
**                      Includes                                              **
***************************************************************************** */
#include <DAVE.h>
/* *****************************************************************************
**                      Private Constant Definitions to be changed            **
***************************************************************************** */

/* *****************************************************************************
**                      Private Macro Definitions                             **
***************************************************************************** */
#define GYROMEASERROR	PI * (40.0f / 180.0f)
#define Kp 2.0f * 5.0f // these are the free parameters in the Mahony filter and fusion scheme, Kp for proportional feedback, Ki for integral
#define Ki 0.0f
/* *****************************************************************************
**                      Global Type Definitions                               **
***************************************************************************** */

/* *****************************************************************************
**                      Private Type Definitions                              **
***************************************************************************** */

/* *****************************************************************************
**                      Global Function Declarations                          **
***************************************************************************** */

/* *****************************************************************************
**                      Private Function Declarations                         **
***************************************************************************** */

/* *****************************************************************************
**                      Global Constant Definitions                           **
***************************************************************************** */

/* *****************************************************************************
**                      Private Constant Definitions                          **
***************************************************************************** */

/* *****************************************************************************
**                      Global Variable Definitions                           **
***************************************************************************** */

/* *****************************************************************************
**                      Private Variable Definitions                          **
***************************************************************************** */

/* *****************************************************************************
**                      Global Function Definitions                           **
***************************************************************************** */
void MadgwickQuaternionUpdateWithouMag(float* q, float deltat, float a_x, float a_y, float a_z, float w_x, float w_y, float w_z);
void MadgwickQuaternionUpdate(float* q, float deltat, float ax, float ay, float az, float gx, float gy, float gz, float mx, float my, float mz);
void MahonyQuaternionUpdate(float* q, float* eInt, float deltat, float ax, float ay, float az, float gx, float gy, float gz, float mx, float my, float mz);
/* *****************************************************************************
**                      Private Function Definitions                          **
***************************************************************************** */
#endif /* QUATERNIONFILTERS_H_ */
